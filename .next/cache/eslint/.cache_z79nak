[{"C:\\Final-test\\src\\app\\catalogo\\page.tsx":"1","C:\\Final-test\\src\\app\\catalogo\\pfilter.tsx":"2","C:\\Final-test\\src\\app\\catalogo\\plist.tsx":"3","C:\\Final-test\\src\\app\\layout.tsx":"4","C:\\Final-test\\src\\app\\log.tsx":"5","C:\\Final-test\\src\\app\\page.tsx":"6","C:\\Final-test\\src\\app\\carrito\\carrito.tsx":"7","C:\\Final-test\\src\\app\\productos\\productos.tsx":"8","C:\\Final-test\\src\\app\\tienda\\page.tsx":"9","C:\\Final-test\\src\\app\\register\\page.tsx":"10"},{"size":3948,"mtime":1699043987128,"results":"11","hashOfConfig":"12"},{"size":1377,"mtime":1699041222944,"results":"13","hashOfConfig":"12"},{"size":2323,"mtime":1699044984863,"results":"14","hashOfConfig":"12"},{"size":492,"mtime":1699035141710,"results":"15","hashOfConfig":"12"},{"size":4458,"mtime":1698950677188,"results":"16","hashOfConfig":"12"},{"size":5949,"mtime":1699063849933,"results":"17","hashOfConfig":"12"},{"size":1643,"mtime":1699058208165,"results":"18","hashOfConfig":"12"},{"size":1136,"mtime":1699055724139,"results":"19","hashOfConfig":"12"},{"size":6814,"mtime":1699066006186,"results":"20","hashOfConfig":"12"},{"size":8654,"mtime":1699063806932,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1mqxjsi",{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Final-test\\src\\app\\catalogo\\page.tsx",[],[],"C:\\Final-test\\src\\app\\catalogo\\pfilter.tsx",["55"],[],"// productos.tsx\r\nimport React from \"react\";\r\n\r\ninterface Product {\r\n  ID: number;\r\n  nombre: string;\r\n  marca: string;\r\n  precio: number;\r\n  descuento: number;\r\n  preciodescuento: number;\r\n  imagen: string;\r\n  descripcion: string;\r\n  cantidad: number;\r\n}\r\n\r\ninterface ProductListProps {\r\n  productos: Product[];\r\n}\r\n\r\nconst ProductList: React.FC<ProductListProps> = ({ productos }) => {\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-2xl text-gray-100  font-semibold mb-4\">\r\n        Lista de Productos\r\n      </h1>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n        {productos.map((producto) => (\r\n          <div key={producto.ID} className=\"card rounded p-4 shadow mb-5\">\r\n            <center>\r\n              <img\r\n                src={producto.imagen}\r\n                alt={producto.nombre}\r\n                className=\"w-60 h-60 object-cover mb-2\" // Estilo de la imagen\r\n              />\r\n            </center>\r\n\r\n            <h2 className=\"text-lg text-gray-500 font-semibold\">\r\n              {producto.nombre}\r\n            </h2>\r\n            <p className=\"text-gray-500\">Categoría: {producto.marca}</p>\r\n            <p className=\"text-green-600\">\r\n              Precio: Q.{producto.preciodescuento}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","C:\\Final-test\\src\\app\\catalogo\\plist.tsx",[],[],"C:\\Final-test\\src\\app\\layout.tsx",[],[],"C:\\Final-test\\src\\app\\log.tsx",["56"],[],"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios, { AxiosError } from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst axiosInstance = axios.create({\r\n  withCredentials: true,\r\n});\r\n\r\nexport default function Login() {\r\n  const [datos, setDatos] = useState({ CorreoElectronico: \"\", Clave: \"\" });\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    console.log(\"carga la pagina\");\r\n  }, []);\r\n\r\n  const manejadorSumit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    console.log(datos);\r\n    try {\r\n      const respuestaAxios = await axiosInstance.post(\r\n        \"http://localhost:8000/api/login\",\r\n        datos\r\n      );\r\n      router.push(\"../catalogo\");\r\n      // const respuestaAxios = await axiosInstance.get('http://localhost:8000/api/productos');\r\n      console.log(respuestaAxios);\r\n    } catch (error) {\r\n      if (error instanceof AxiosError) {\r\n        console.log(error.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8\">\r\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <img\r\n            className=\"mx-auto h-10 w-auto\"\r\n            src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\"\r\n            alt=\"Your Company\"\r\n          />\r\n          <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n            Inicia sesion en tu cuenta\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <form className=\"space-y-4\" onSubmit={manejadorSumit}>\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              >\r\n                Correo\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  required\r\n                  className=\"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  onChange={(e) =>\r\n                    setDatos({\r\n                      ...datos,\r\n                      CorreoElectronico: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <label\r\n                  htmlFor=\"password\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Contraseña\r\n                </label>\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  required\r\n                  className=\"px-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  onChange={(e) =>\r\n                    setDatos({\r\n                      ...datos,\r\n                      Clave: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n              >\r\n                Iniciar sesion\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n            No tiene una cuenta?\r\n            <Link\r\n              href=\"../registrarse\"\r\n              className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n            >\r\n              Registrate\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","C:\\Final-test\\src\\app\\page.tsx",["57"],[],"\"use client\";\r\nimport React, { useState, useEffect, FormEvent, ChangeEvent } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { emit } from \"process\";\r\n\r\nexport default function Home() {\r\n  const [formData, setFormData] = useState<{ email: string; password: string }>(\r\n    { email: \"\", password: \"\" }\r\n  );\r\n\r\n  const [token, setToken] = useState<string | null>(null);\r\n  const router = useRouter();\r\n\r\n  const handleFormSubmit = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    // console.log(\"email:\" + formData.email + \"     clave:\" + formData.password);\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://api-2-xgyd.onrender.com/api/login\",\r\n        // \"http://localhost:3000/api/login\",\r\n        JSON.stringify(formData), // Convierte formData a JSON\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\", // Establece el encabezado 'Content-Type' como 'application/json'\r\n          },\r\n        }\r\n      );\r\n\r\n      const newToken = response.data.token;\r\n      localStorage.setItem(\"token\", newToken);\r\n      console.log(\"login key: \" + localStorage.getItem(\"token\"));\r\n      setToken(newToken);\r\n      localStorage.setItem(\"correo\", formData.email);\r\n      router.replace(\"./tienda\");\r\n    } catch (error) {\r\n      console.error(\"Error al iniciar sesión:\", error);\r\n\r\n      console.log(\r\n        JSON.stringify(formData), // Convierte formData a JSON\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\", // Establece el encabezado 'Content-Type' como 'application/json'\r\n          },\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n  const checkTokenValidity = () => {\r\n    const storedToken = localStorage.getItem(\"token\");\r\n\r\n    if (storedToken) {\r\n      // Realiza una solicitud al servidor para validar el token, si es necesario.\r\n      // Puedes usar la misma ruta del servidor para validar el token.\r\n      localStorage.setItem(\"correo\", formData.email);\r\n      // Si el token es válido, redirige al usuario a la página deseada.\r\n      router.replace(\"./tienda\");\r\n    }\r\n  };\r\n\r\n  // Llama a la función de validación cuando la página se carga\r\n  useEffect(() => {\r\n    checkTokenValidity();\r\n  }, []);\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-blue-100\">\r\n            Iniciar sesión\r\n          </h2>\r\n        </div>\r\n        <form\r\n          id=\"loginfrm\"\r\n          className=\"mt-8 space-y-6\"\r\n          onSubmit={handleFormSubmit}\r\n        >\r\n          <div className=\"rounded-md shadow-sm -space-y-px\">\r\n            <div>\r\n              <label htmlFor=\"email-address\" className=\"sr-only\">\r\n                Dirección de correo electrónico\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                required\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Dirección de correo electrónico\"\r\n                onChange={handleInputChange}\r\n                value={formData.email}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"sr-only\">\r\n                Contraseña\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n                required\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm mt-2\"\r\n                placeholder=\"Contraseña\"\r\n                onChange={handleInputChange}\r\n                value={formData.password}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"group relative w-full flex justify-center py-3 \r\n              px-4 border border-transparent text-sm font-medium rounded-md\r\n               text-white bg-blue-700  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n            >\r\n              <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n                <svg\r\n                  className=\"h-5 w-5 text-white-500 group-hover:text-white-400\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n              Iniciar sesión\r\n            </button>\r\n            <div className=\"mt-5\">\r\n              <center>\r\n                <a href=\"./register/\">\r\n                  <p className=\"text-center text-1xl font-extrabold hover:text-blue-300 text-blue-100\">\r\n                    ¿No tienes una cuenta?\r\n                  </p>\r\n                </a>\r\n              </center>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Final-test\\src\\app\\carrito\\carrito.tsx",[],[],"C:\\Final-test\\src\\app\\productos\\productos.tsx",[],["58"],"C:\\Final-test\\src\\app\\tienda\\page.tsx",[],[],"C:\\Final-test\\src\\app\\register\\page.tsx",[],[],{"ruleId":"59","severity":1,"message":"60","line":30,"column":15,"nodeType":"61","endLine":34,"endColumn":17},{"ruleId":"59","severity":1,"message":"60","line":42,"column":11,"nodeType":"61","endLine":46,"endColumn":13},{"ruleId":"62","severity":1,"message":"63","line":69,"column":6,"nodeType":"64","endLine":69,"endColumn":8,"suggestions":"65"},{"ruleId":"59","severity":1,"message":"60","line":22,"column":11,"nodeType":"61","endLine":26,"endColumn":13,"suppressions":"66"},"@next/next/no-img-element","Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkTokenValidity'. Either include it or remove the dependency array.","ArrayExpression",["67"],["68"],{"desc":"69","fix":"70"},{"kind":"71","justification":"72"},"Update the dependencies array to be: [checkTokenValidity]",{"range":"73","text":"74"},"directive","",[2395,2397],"[checkTokenValidity]"]