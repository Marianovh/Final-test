(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1831:function(e,n,o){Promise.resolve().then(o.bind(o,5721))},5721:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return Home}});var r=o(7437),t=o(2265),a=o(9222),s=o(4033);function Home(){let[e,n]=(0,t.useState)({email:"",password:""}),[o,l]=(0,t.useState)(null),i=(0,s.useRouter)(),handleFormSubmit=async n=>{n.preventDefault();try{let n=await a.Z.post("https://api-2-xgyd.onrender.com/api/login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}),o=n.data.token;localStorage.setItem("token",o),console.log("login key: "+localStorage.getItem("token")),l(o),i.replace("./catalogo")}catch(n){console.error("Error al iniciar sesi\xf3n:",n),console.log(JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}},handleInputChange=o=>{let{name:r,value:t}=o.target;n({...e,[r]:t})},checkTokenValidity=()=>{let e=localStorage.getItem("token");e&&i.replace("./catalogo")};return(0,t.useEffect)(()=>{checkTokenValidity()},[]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-blue-100",children:"Iniciar sesi\xf3n"})}),(0,r.jsxs)("form",{id:"loginfrm",className:"mt-8 space-y-6",onSubmit:handleFormSubmit,children:[(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Direcci\xf3n de correo electr\xf3nico"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Direcci\xf3n de correo electr\xf3nico",onChange:handleInputChange,value:e.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Contrase\xf1a"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm mt-2",placeholder:"Contrase\xf1a",onChange:handleInputChange,value:e.password})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-3    px-4 border border-transparent text-sm font-medium rounded-md   text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-white-500 group-hover:text-white-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),"Iniciar sesi\xf3n"]})})]})]})})}}},function(e){e.O(0,[540,971,472,744],function(){return e(e.s=1831)}),_N_E=e.O()}]);