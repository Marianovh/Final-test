(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1831:function(e,t,n){Promise.resolve().then(n.bind(n,5721))},5721:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var r=n(7437),a=n(2265),o=n(9222),s=n(4033);function Home(){let[e,t]=(0,a.useState)({email:"",password:""}),[n,l]=(0,a.useState)(null),i=(0,s.useRouter)(),handleFormSubmit=async t=>{t.preventDefault();try{let t=await o.Z.post("https://api-2-xgyd.onrender.com/api/login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}),n=t.data.token;localStorage.setItem("token",n),console.log("login key: "+localStorage.getItem("token")),l(n),localStorage.setItem("correo",e.email),i.replace("./tienda")}catch(t){console.error("Error al iniciar sesi\xf3n:",t),console.log(JSON.stringify(e),{headers:{"Content-Type":"application/json"}})}},handleInputChange=n=>{let{name:r,value:a}=n.target;t({...e,[r]:a})},checkTokenValidity=()=>{let t=localStorage.getItem("token");t&&(localStorage.setItem("correo",e.email),i.replace("./tienda"))};return(0,a.useEffect)(()=>{checkTokenValidity()},[]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-blue-100",children:"Iniciar sesi\xf3n"})}),(0,r.jsxs)("form",{id:"loginfrm",className:"mt-8 space-y-6",onSubmit:handleFormSubmit,children:[(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Direcci\xf3n de correo electr\xf3nico"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Direcci\xf3n de correo electr\xf3nico",onChange:handleInputChange,value:e.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Contrase\xf1a"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm mt-2",placeholder:"Contrase\xf1a",onChange:handleInputChange,value:e.password})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-3    px-4 border border-transparent text-sm font-medium rounded-md   text-white bg-blue-700  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-white-500 group-hover:text-white-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),"Iniciar sesi\xf3n"]}),(0,r.jsx)("div",{className:"mt-5",children:(0,r.jsx)("center",{children:(0,r.jsx)("a",{href:"./register/",children:(0,r.jsx)("p",{className:"text-center text-1xl font-extrabold hover:text-blue-300 text-blue-100",children:"\xbfNo tienes una cuenta?"})})})})]})]})]})})}}},function(e){e.O(0,[540,971,472,744],function(){return e(e.s=1831)}),_N_E=e.O()}]);